<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chinmay Form</title>
    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <style>
        body {
            padding: 30px;
        }

        .form {
            background-color: rgb(180, 175, 175);
            width: 40%;
            padding: 50px;
        }

        .btn {
            padding: 10px;
            border-radius: 20px;
        }

        .btn:hover {
            background-color: blueviolet;
            font-size: 18px;
        }

        .label {
            background-color: antiquewhite;
            padding: 10px;


        }

        .label:hover {
            background-color: rgb(213, 203, 203);
            color: black;
        }

        .spin-cust {
            height: 20px;
            width: 20px;
        }
    </style>
</head>

<body>

    <div class="form">
        <h1>Enter Your Details</h1><br>
        <hr>
        <form onsubmit="return validation()">
            <div>
                <label for="name">Name:</label>
                <input type="text" id="user-Name" name="name" placeholder="enter your name"
                    class="label uName" required>
                <br>
                <span id="name-error" style="color: red; font-size: 15px;"></span>

                <br><br>



                <label for="email">Email:</label>
                <input type="email" id="user-Email" name="email" placeholder="enter your email"
                    class="label Uemail" required>
                <br>

                <p id="mail-error" style="color: red; font-size: 15px;"></p>
                <br><br>




                <label for="phone">Phone number:</label>
                <input type="tel" id="user-phone" name="phone"
                    placeholder="enter your phone no."  class="label Uphone" required>
                <br>
                <span id="phone-error" style="color: red; font-size: 15px;"></span>
                <br><br>
            </div>
            <div>

                <button type="button" onclick="submitForm()" name="save_contact" id="submit-btn" value="Save"
                    class="bttn btn btn-primary">Submit
                </button>
                <br>
                <span id="suc-submit" style="color: green; font-size: 15px;"></span>
                <span id="err-submit" style="color: red; font-size: 15px;"></span>
            </div>

        </form>


        <script src="myJs.js" type="text/javascript"></script>


    </div>

    <script>
        $(document).ready(function () {

            $('.uName').keyup(function () {
                
                var userName = $('.uName').val();
                var nflag = false;

                if (userName == "") {
                    $('#name-error').text("cannot be an empty name");
                    nflag = true;
                } else if (!isNaN(userName)) {
                    $('#name-error').text("invalid name");
                    nflag = true;
                } else if (userName.length < 3) {
                    $('#name-error').text("enter minimum 3 characters");
                    nflag = true;
                } else if (21 < userName.length) {
                    $('#name-error').text("enter maximum 20 characters");
                    nflag = true;
                } else {
                   $("name-error").text(""); 
                }

                // if (!nflag) {
                //     return false;
                // } 

            });

            $('.Uemail').keyup(function () {
               
                var pattern = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
                var userEmail = $('.Uemail').val();

                if (!(pattern.test(userEmail))) {
                    $('#mail-error').text("invalid email");
                }
                else if (userEmail == "") {
                    $('#mail-error').text("cannot be an empty email");
                    return false;
                } else if (userEmail.length < 3) {
                    $('#mail-error').text("enter minimum 3 characters");
                    return false;
                } else {
                    op = "";
                    $('#mail-error').text(op);
                }
            });

            $('.Uphone').keyup(function () {
            

                var userphone = /^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;
                var usernum = $('.Uphone').val();
                if (!(userphone.test(usernum))) {
                    $('#phone-error').text("invalid no.");
                    return false;
                } else if (!isNaN(userphone)) {
                    $('#phone-error').text("invalid no.");
                    return false;
                } else {
                    $('#phone-error').text("");
                }
            });
        });
    </script>
</body>

</html>